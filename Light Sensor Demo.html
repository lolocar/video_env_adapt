<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}@font-face{font-family:'IBM Plex';src:url("/fonts/IBMPlexSansVar-Roman.woff2");font-weight:100 700}@font-face{src:url("/fonts/SchijnVariableGX.woff2");font-family:'Schijn Variable';font-style:normal}*{margin:0;padding:0}::-moz-selection{background-color:#c1a2e7;color:#6651a6}::selection{background-color:#c1a2e7;color:#6651a6}html{font-size:100%}body{--bg-color: white;--bg-color-end: white;--featureColorAccent: white;--featureColorReverse: black;min-height:100vh;font-family:"IBM Plex","Arial",sans-serif;font-size:100%;font-weight:353;line-height:1.8;text-align:center;color:white;background:linear-gradient(var(--bg-color) 50%, var(--bg-color-end))}header{display:flex;align-content:center;align-items:center;padding-top:100px;justify-content:center}.home header{min-height:80vh;padding-top:1.5rem}.posts h1::after{content:"";width:20%;height:1px;background:rgba(255,255,255,0.5);left:50%;bottom:0;position:absolute;transform:translateX(-50%)}nav{position:absolute;top:42px;flex:none}@media screen and (min-width: 500px){nav{top:0}}nav a:hover,nav a:focus{color:#4fe6d9;background:none}a{color:black;text-decoration:underline}a:hover,a:focus{color:white;background:black}h1,h2,h3{font-family:"IBM Plex","Helvetica","Arial",sans-serif;font-weight:700;line-height:1;margin:1.125rem 0;color:currentColor}h1{font-size:3.125rem;font-weight:100;margin-top:2.75rem;margin-bottom:1.125rem;line-height:1;padding-bottom:.75rem;margin:1.125rem;position:relative;color:white}.home h1{--axis: 17;--axis2: 30;font-size:3.125rem;font-weight:100;margin-top:2.75rem;margin-bottom:1.125rem;line-height:1;padding-bottom:.75rem;margin:1.125rem;font-family:"Schijn Variable", "Adobe NotDef";font-variation-settings:"wght" var(--axis);position:relative;color:var(--featureColorAccent);transform:translateY(2rem)}@media screen and (min-width: 450px){.home h1{font-size:5rem}}@media screen and (min-width: 768px){.home h1{font-size:10.625rem}}.home h1::before{content:attr(data-heading);position:absolute;color:var(--featureColorReverse);font-variation-settings:"wght" var(--axis2);left:0}h2{font-size:3.125rem;margin:.75rem 0;font-weight:300}h3{text-transform:uppercase;margin-top:2.75rem;font-size:1.875rem;padding-bottom:2px;font-weight:200}.listing{--featureColor: $page-color;display:grid;width:100%;grid-template-columns:1fr;align-self:center}@media screen and (min-width: 768px){.listing{grid-template-columns:1fr 1fr 1fr}}.listing .item{background:var(--featureColor);display:flex;height:50vh;align-content:center;box-shadow:inset 34px 0px 50px -46px rgba(0,0,0,0.46);justify-content:center}@media screen and (min-width: 768px){.listing .item{grid-column:2 / span 2;height:100vh}}.listing .item img{width:80%;display:block;align-self:center}.listing .sidebar{background:#fff;grid-column:1;z-index:1;display:flex;align-content:center;flex-direction:column;justify-content:center;position:relative;color:#6651a6;padding:1.5rem 0}.listing .sidebar::after{content:"";width:0;height:0;border-bottom:10vh solid var(--featureColor);border-left:10vh solid transparent;bottom:0;position:absolute;right:0}@media screen and (min-width: 768px){.listing .sidebar::after{border-bottom:40vh solid var(--featureColor);border-left:40vh solid transparent}}.listing .sidebar h2{color:var(--featureColor);font-size:2rem;font-weight:120}@media screen and (min-width: 768px){.listing .sidebar h2{font-size:4rem}}.listing .sidebar p{color:#333}.listing .sidebar time{font-size:1rem;text-transform:uppercase;font-weight:700;position:relative}.listing .sidebar a{color:var(--featureColor);font-weight:800;transition:background 250ms ease-out}.listing .sidebar a:hover,.listing .sidebar a:focus{background:#ecb2ff;color:black}.post-button{border:2px solid currentColor;background:transparent;padding:.25rem;width:6.25rem;display:block;text-decoration:none;margin:1.125rem auto;position:relative;z-index:2}nav{display:flex;justify-content:flex-end;gap:.75rem;width:100%}.nav{padding-top:1.5rem;list-style:none;display:flex;z-index:2}.nav li{margin:0 1.125rem}.nav a{text-align:left;color:#c1a2e7;text-decoration:none;font-weight:700;display:block;line-height:1;transition:all 50ms ease;border:1px solid transparent;letter-spacing:0.062rem;position:relative}.nav a::after{content:"";width:20px;height:1px;background:#c1a2e7;position:absolute;bottom:-10px;left:0;transition:width 150ms ease-in-out}.nav a:hover,.nav a:focus{color:white}.nav a:hover:after,.nav a:focus:after{background:white;width:100%}.container{margin-left:auto;margin-right:auto;width:90%;max-width:900px;text-align:left}header{margin-bottom:2.75rem}.brand{display:flex;align-items:center}.logo{width:100px;height:auto;fill:white}.intro{font-size:1.5rem;margin-bottom:5.5rem;line-height:1.2;max-width:48ch;font-weight:700}.demo{font-size:100px;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;height:100%;text-align:center;letter-spacing:0.6rem;margin:7rem 0;position:relative;text-transform:uppercase;line-height:1}@media screen and (min-width: 430px){.demo{font-size:150px}}@media screen and (min-width: 700px){.demo{font-size:200px}}.nav a{color:white}.post{background:white;padding:1.875rem;color:black;width:95%;max-width:700px;margin:1.875rem auto;text-align:left}@media screen and (min-width: 700px){.post{margin-top:6.875rem;padding:5.9375rem}}.post p{margin-bottom:1.5rem;line-height:1.5;font-size:18px;font-weight:200}.post :not(pre)>code{background:ghostwhite;border:1px solid gainsboro;border-radius:3px;padding:0 2px;font-size:15px;color:#5c5c5c}.details{text-align:left;position:relative;line-height:1.5;font-style:italic;font-weight:200;border-bottom:1px solid black;margin-bottom:1.125rem}@media screen and (min-width: 700px){.details{max-width:calc(800px + 76px)}}.details p+p{margin-top:1.125rem}.details a{display:inline-block;padding:0 2px;transition:all 150ms ease;background:transparent;color:black}.details a:hover,.details a:focus{color:white;background:black}#toggle{border:1px solid currentColor;background:transparent;padding:.625rem;color:currentColor;font-size:.75rem;text-transform:uppercase;flex-grow:0;cursor:pointer;align-self:center;position:absolute;top:1rem;left:1rem}#toggle:hover,#toggle:focus{background:darkslategrey;color:white}#toggle:active{transform:translate(0, 2px)}.no-animation .demo{animation:none}@media (prefers-reduced-motion: reduce){.demo{animation:none}}.video-wrapper{max-width:876px;margin:0 auto}.video{position:relative;padding-bottom:56.25%;padding-top:25px;height:0}.video iframe{position:absolute;top:0;left:0;width:100%;height:100%}footer{margin-top:3.125rem;padding:1.875rem 0;font-size:.75rem;color:currentColor}footer a{color:currentColor;border-bottom:solid 1px currentColor}footer a a:hover,footer a a:focus{background:darkslategrey;color:white;border-bottom:solid 1px white}code[class*="language-"],pre[class*="language-"]{color:#393A34;font-family:"Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]::-moz-selection,pre[class*="language-"] ::-moz-selection,code[class*="language-"]::-moz-selection,code[class*="language-"] ::-moz-selection{background:#b3d4fc}pre[class*="language-"]::selection,pre[class*="language-"] ::selection,code[class*="language-"]::selection,code[class*="language-"] ::selection{background:#b3d4fc}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;background-color:white}:not(pre)>code[class*="language-"]{padding:.2em;padding-top:1px;padding-bottom:1px;background:#f8f8f8;border:1px solid #dddddd}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#999988;font-style:italic}.token.namespace{opacity:.7}.token.string,.token.attr-value{color:#e3116c}.token.punctuation,.token.operator{color:#393A34}.token.entity,.token.url,.token.symbol,.token.number,.token.boolean,.token.variable,.token.constant,.token.property,.token.regex,.token.inserted{color:#36acaa}.token.atrule,.token.keyword,.token.attr-name,.language-autohotkey .token.selector{color:#00a4db}.token.function,.token.deleted,.language-autohotkey .token.tag{color:#9a050f}.token.tag,.token.selector,.language-autohotkey .token.keyword{color:#00009f}.token.important,.token.function,.token.bold{font-weight:bold}.token.italic{font-style:italic}</style><title>Light Sensor Demo</title><link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="manifest" href="/images/icons/site.webmanifest"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#1c1c40"><link rel="shortcut icon" href="/images/icons/favicon.ico"><link rel="alternate" type="application/rss+xml" title="Variable Fonts &raquo; Feed" href="https://variablefonts.dev/feed.xml"><meta name="msapplication-TileColor" content="#1c1c40"><meta name="msapplication-config" content="/images/icons/browserconfig.xml"><meta name="theme-color" content="#1c1c40"><meta property="og:type" content="article"><meta property="og:title" content="Light Sensor Demo"><meta property="og:url" content="https://variablefonts.dev/posts/light-sensor-demo"><meta property="og:image" content="https://variablefonts.dev/images/light-sensor-demo.png"><meta property="og:description" content="An example of how a variable font can react based on input from web browser apis and sensors like the Ambient light sensor."><meta property="article:author" content="Mandy Michael"><link href="https://fonts.googleapis.com/css2?family=Fira%20Code:wght@300..700&display=swap" rel="stylesheet"></head><body class="posts" style="--bg-color: #171515;
    --bg-color-end: #699f39;
    --featureColorAccent: #0; --featureColorReverse: #ffffff"><div><header><nav><ul class="nav"><li><a href="/">Home</a></li><li><a href="/getting-started">Getting Started</a></li><li><a href="/about">About</a></li></ul></nav><h1 class="site-title" data-heading="Light Sensor Demo">Light Sensor Demo</h1></header><style>@font-face{src:url("/fonts/TINY.woff2");font-family:'TINY';font-style:normal;font-weight:20 300}html{height:100%}body{background:#e5764a linear-gradient(to bottom, #1d1940 0%, #343c65 34%, #38426d 39%, #524a72 50%, #524a72 50%, #594e72 57%, #695173 62%, #7d546d 68%, #92596e 72%, #a55e6c 76%, #ab5e6c 79%, #aa5d6a 79%, #ba6467 86%, #d26a57 92%, #e77643 100%, #de7143 100%, #d36a44 100%);background-repeat:no-repeat}.light-sensor{--axis: 20;color:#fefefe;font-family:'TINY';font-weight:var(--axis);text-shadow:-1px -1px 0 rgba(255,255,255,0.4),1px -1px 0 rgba(255,255,255,0.4),-1px 1px 0 rgba(255,255,255,0.4),1px 1px 0 rgba(255,255,255,0.4),0 -2px 8px,0 0 2px,0 0 5px #ff7e00,0 0 15px #f44,0 0 2px #ff7e00,0 2px 3px #000;font-size:100px;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;height:100%;text-align:center;letter-spacing:0.6rem;margin:7rem 0;position:relative;text-transform:uppercase;line-height:1}@media screen and (min-width: 430px){.light-sensor{font-size:150px}}@media screen and (min-width: 700px){.light-sensor{font-size:200px}}.post a{color:#313960}.post a:hover,.post a:focus{background:#feb078;color:#202045}.details a{color:black}.details a:hover,.details a:focus{background:#feb078;color:#202045}#toggle:hover,#toggle:focus{background:#313960;color:white}</style><p><button id="toggle">Toggle Animation</button></p><section><div id="box"><p data-text="Light it up" class="light-sensor" id="light-sensor">Light it up</p></div></section><main class="post"><h2>Making the Light Sensor</h2><section class="details"><p><a href="https://velvetyne.fr" target="_blank">Tiny</a> by Jack Halten Fahnestock is Open source.<br>Code by <a href="https://twitter.com/Mandy_Kerr" target="_blank"><em>Mandy Michael</em></a> available on <a href="https://codepen.io/mandymichael/pen/Mdoxpg">Codepen</a></p></section><p>The purpose of this example is to demonstrate how Variable Fonts can <em>react</em> and change based on input from web browser apis and sensors like the Ambient light sensor.</p><p><strong>Please note as of 11th June 2019 this demo has very limited support, please refer to <a href="https://caniuse.com/#search=ambient%20light%20sensor">Can I Use</a> for up to date support information.</strong></p><h3>The HTML</h3><p>Before getting into the nitty gritty I highly recommend you read the <a href="/getting-started">Getting Started</a> page, which covers the basics of using variable fonts.</p><p>First up we create our HTML element, I'm using a <code>h1</code>, but it can be whatever semantic text element you need.</p><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Light it up<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span></code></pre><h3>The Initial CSS Setup</h3><p>With our HTML all set up and ready to go we can start to set up the visual effect.</p><p>Firstly I am using a font called Tiny by Jack Halten Fahnestock. Tiny is an Open Source font and is available to <a href="https://velvetyne.fr" target="_blank">Download</a> from <a href="https://velvetyne.fr">Velvetyne Type Foundry</a>. You can use whatever variable font you like. I chose this font because I thought it fit nicely with the effect for demo purposes.</p><p>Let's get started setting up the base CSS!</p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">h1</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">--axis</span><span class="token punctuation">:</span> 20<span class="token punctuation">;</span> // CSS Custom Property for modifying the axis</span><br><span class="highlight-line"></span><br><span class="highlight-line">	<span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'TINY'</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token property">font-weight</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--axis<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p>Importantly I have set up a CSS Custom Property called <code>--axis</code> with a default value of <code>20</code> (which is the lowest value of the weight axis of Tiny). This will become important later as it will allow us to update the value of our axis using JavaScript. As we are using the <code>wght</code> axis for this effect we can make use of the <code>font-weight</code> property instead of <code>font-variation-settings</code> (You should always use the mapped CSS properties when they are available).</p><h3>Accessing the Sensor data</h3><p>In order to access the Ambient Light Sensor we will make use of a little bit of JavaScript and a JavaScript function that I created called &quot;Fluid Axis Variation Events&quot; which you can find on <a href="https://github.com/mandymichael/fluid-axis-variation-events">Github</a> or in the JS panel on the <a href="https://codepen.io/mandymichael/pen/Mdoxpg">Codepen</a> example.</p><p>Initially we need to set up a few bits of information about the axis we want to affect and the event we want to use (in this case the Ambient Sensor API).</p><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> minAxisValue <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">const</span> maxAxisValue <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">const</span> minEventValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">const</span> maxEventValue <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span></span></code></pre><p>Firstly we need to know what our minimum and maximum axis value will be. The Axis value determines the lowest value and highest value you want to use on the Variable Fonts Axis, in this case I'm using the full range that Tiny has to offer which is <code>20 - 300</code>, but you can choose any value along the axis.</p><p>Secondly we need to define the minimum and maximum event value. This will allow you to set a start and end point to cap the range. This is important because if we try to use the full range for some events, like sensors, or viewport width the effect's impact is often lost. In this demo, the event value comes from the <code>sensor.illuminance</code> reading. I have opted to start at <code>0</code> and capped it at <code>1000</code>.</p><p>Next we can setup the the Ambient Light Sensor!</p><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token string">'AmbientLightSensor'</span> <span class="token keyword">in</span> window <span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">const</span> sensor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AmbientLightSensor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    sensor<span class="token punctuation">.</span><span class="token function-variable function">onreading</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token function">fluidAxisVariation</span><span class="token punctuation">(</span>minAxisValue<span class="token punctuation">,</span> maxAxisValue<span class="token punctuation">,</span> minEventValue<span class="token punctuation">,</span> maxEventValue<span class="token punctuation">,</span> sensor<span class="token punctuation">.</span>illuminance<span class="token punctuation">,</span> <span class="token string">"--axis"</span><span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    sensor<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>error<span class="token punctuation">.</span>name<span class="token punctuation">,</span> event<span class="token punctuation">.</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    sensor<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p>First we check to see if we have access to the Ambient Light Sensor, and create a new instance.</p><p>Using our newly created sensor we can start to get sensor readings with the <code>sensor.onreading</code> event handler. The reading frequency is decided by you, you can pass an optional value to the sensor's constructor which will specify the number of readings per second.</p><p>Inside the function we can use the <code>fluidAxisVariation</code> function I mentioned earlier, you can read up about how it works on the <a href="/getting-started">Getting Started</a>.</p><p>For this demo we'll pass in our minimum and maximum event and minimum and maximum axis values, the <code>sensor.illuminance</code> value, the name of our CSS Custom Property we defined in our CSS earlier and finally the element.</p><p>Passing the values in manually it would look something like the following code:</p><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token function">fluidAxisVariation</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> sensor<span class="token punctuation">.</span>illuminance<span class="token punctuation">,</span> <span class="token string">"--axis"</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demoText"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>Finally we tell the sensor to start with the <code>sensor.start()</code> method.</p><p>You can also add in some error checking in case something goes wrong, as per my example. I find this useful for debugging.</p><h3>Some additional styling</h3><p>We can then add some additional styles (below) to finish off the effect and create a bit of a &quot;blur&quot; that allows the colours to blob together as the weight increases. The <code>text-shadow</code> below will create an outline around the text in white and then implement a soft blur.</p><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">h1</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">--axis</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> // CSS Custom Property for modifying the axis</span><br><span class="highlight-line"></span><br><span class="highlight-line">	<span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'TINY'</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token property">font-weight</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--axis<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token property">text-shadow</span><span class="token punctuation">:</span> -1px -1px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>#fff<span class="token punctuation">,</span> .4<span class="token punctuation">)</span><span class="token punctuation">,</span> 1px -1px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>#fff<span class="token punctuation">,</span> .4<span class="token punctuation">)</span><span class="token punctuation">,</span> -1px 1px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>#fff<span class="token punctuation">,</span> .4<span class="token punctuation">)</span><span class="token punctuation">,</span> 1px 1px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>#fff<span class="token punctuation">,</span> .4<span class="token punctuation">)</span><span class="token punctuation">,</span> 0 -2px 8px<span class="token punctuation">,</span> 0 0 2px<span class="token punctuation">,</span> 0 0 5px #ff7e00<span class="token punctuation">,</span> 0 0 15px #ff4444<span class="token punctuation">,</span> 0 0 2px #ff7e00<span class="token punctuation">,</span> 0 2px 3px #000<span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    // General design</span><br><span class="highlight-line">    <span class="token property">color</span><span class="token punctuation">:</span> #fefefe<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token property">font-size</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><p>You can checkout the full code and styles on <a href="https://codepen.io/mandymichael/pen/Mdoxpg">Codepen</a>, however, because of the iframes the Ambient Light Sensor does not work inside the Codepen editor so to see it working you need to view it in <a href="https://s.codepen.io/mandymichael/debug/6c905675972969f4a9a5a89c382b1473">debug mode</a>. (Also remember you need to enable flags in the browser to test this).</p><p>Have fun and enjoy!</p><p>Mandy Michael</p></main><footer><p>Made by <a href="https://twitter.com/mandy_kerr" target="_blank">Mandy Michael</a>, supported by <a href="https://instagram.com/adognamedjello" target="_blank">Jello</a>.</p></footer><script>// Content Editable Demos
if (document.getElementById("demoText")) {
    var element = document.getElementById("demoText");

    element.addEventListener("input", function() {
        this.setAttribute("data-text", this.innerText);
    });
}

// Animation Toggle
if ( document.getElementById('toggle')) {
    document.getElementById('toggle').addEventListener('click', function () {
        if (document.body.classList.contains("no-animation")) {
            document.body.classList.remove("no-animation");
        } else {
            document.body.classList.add("no-animation");
        }
    });
}

// Homepage Effect with gem font
var homeHeadline = document.querySelector("h1");

const minAxisValue = 1;
const maxAxisValue = 30;

const minAxisValue2 = 30;
const maxAxisValue2 = 1;

const minEventValue = 0;
const maxEventValue = 1000;

homeHeadline.style.setProperty("--axis", 0);
homeHeadline.style.setProperty("--axis2", 0);


document.addEventListener('mousemove', function(e) {
  setPosition(e);
});

document.addEventListener('touchmove', function(e) {
  setPosition(e);
});

function setPosition(e) {
	fluidAxisVariation(minAxisValue, maxAxisValue, minEventValue, maxEventValue, e.pageX, "--axis", homeHeadline);
	fluidAxisVariation(minAxisValue2, maxAxisValue2, minEventValue, maxEventValue, e.pageY, "--axis2", homeHeadline);
}

// Variable Light Sensor Demo
function getLightSensor() {
    const minAxisValue = 300;
    const maxAxisValue = 20;

    const minEventValue = 20;
    const maxEventValue = 300;

    const sensorElement = document.getElementById("light-sensor");

    sensorElement.style.setProperty("--axis", 20);

    if ( 'AmbientLightSensor' in window ) {
      const sensor = new AmbientLightSensor();
      sensor.onreading = () => {
         fluidAxisVariation(minAxisValue, maxAxisValue, minEventValue, maxEventValue, sensor.illuminance, "--axis", sensorElement);
      };
      sensor.onerror = (event) => {
        console.log(event.error.name, event.error.message);
      };
      sensor.start();
    }
}

if (document.getElementById("light-sensor")) {
    getLightSensor();
}


// Bouncy Fira Code

if (document.getElementById("fira-google-api")) {
    Splitting();
}


// Resize to fit
if(document.getElementById("resize-to-fit")) {

    const box = document.getElementById("box");
    const text = document.getElementById("resize-to-fit");

    function resizeBox() {
        calcTextWidth();
        calcTextSize();
    }
    resizeBox();

    new ResizeObserver(resizeBox).observe(box);

    function calcTextWidth() {
        const parentContainerWidth = text.parentNode.clientWidth;
        const currentTextWidth = text.scrollWidth;
        const currentFontStretch = parseInt(window.getComputedStyle(text).fontStretch);
        const newValue = Math.min(Math.max(300, (parentContainerWidth / currentTextWidth) * currentFontStretch), 500)

        text.style.setProperty('--fontStretch', newValue + '%');
    }

    function calcTextSize() {
        const parentContainerWidth = text.parentNode.clientWidth;
        const currentTextWidth = text.scrollWidth;
        const currentFontSize = parseInt(window.getComputedStyle(text).fontSize);
        const newValue = Math.min(Math.max(16, (parentContainerWidth / currentTextWidth) * currentFontSize), 500)

        text.style.setProperty('--fontSize', newValue +'px');
    }

}





    // Fluid Axis Variation
    function fluidAxisVariation(minimumAxisValue, maximumAxisValue, minimumEventValue, maximumEventValue, eventValue, axisCustomPropertyName, element) {

        const minAxisValue = minimumAxisValue;
        const maxAxisValue = maximumAxisValue;
        const minEventValue = minimumEventValue;
        const maxEventValue = maximumEventValue;
        const currentEventValue = eventValue;

        const eventPercent = (currentEventValue - minEventValue) / (maxEventValue - minEventValue);
        const fontAxisScale = eventPercent * (minAxisValue - maxAxisValue) + maxAxisValue;

        const newAxisValue = currentEventValue > maxEventValue
        ? minAxisValue
        : currentEventValue < minEventValue
                ? maxAxisValue
                : fontAxisScale;


        element.style.setProperty(axisCustomPropertyName, newAxisValue);

    }</script></div></body></html>